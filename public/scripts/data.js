// interface Place {
//   image: string;
//   name: string;
//   description: string;
//   remoteness: number;
//   bookedDates: number[];
// }
export function toggleFavoriteItem(property) {
    const favoriteItemsString = localStorage.getItem('favoriteItems');
    let favoriteItems = [];
    if (favoriteItemsString) {
        try {
            favoriteItems = JSON.parse(favoriteItemsString);
        }
        catch (e) {
            console.log(Error);
        }
    }
    const existingIndex = favoriteItems.findIndex(item => item.id === property.id);
    if (existingIndex !== -1) {
        favoriteItems.splice(existingIndex, 1);
    }
    else {
        favoriteItems.push({ id: property.id, name: property.name, imageUrl: property.imageUrl });
    }
    localStorage.setItem('favoriteItems', JSON.stringify(favoriteItems));
    const favoritesAmount = getFavoritesAmount();
    const userBlock = document.querySelector('.user-block');
    if (userBlock) {
        const favoritesAmountElement = userBlock.querySelector('.favorites-amount');
        if (favoritesAmountElement) {
            favoritesAmountElement.textContent = `${favoritesAmount !== null && favoritesAmount !== void 0 ? favoritesAmount : '0'} favorites`;
        }
    }
}
export function getFavoritesAmount() {
    const favoriteItemsString = localStorage.getItem('favoriteItems');
    if (favoriteItemsString) {
        try {
            const favoriteItems = JSON.parse(favoriteItemsString);
            return favoriteItems.length;
        }
        catch (e) {
            console.log(Error);
        }
    }
    return undefined;
}
export function GetUserData() {
    const userDataString = localStorage.getItem('user');
    // const userData = JSON.parse(userDataString);
    if (userDataString) {
        try {
            const userData = JSON.parse(userDataString);
            if (typeof userData === 'object' && userData !== null) {
                const { username, avatarUrl } = userData;
                if (typeof username === 'string' && typeof avatarUrl === 'string') {
                    return { username, avatarUrl };
                }
            }
        }
        catch (e) {
            console.log(Error);
        }
    }
    return undefined;
}
export function GetFavoritesAmout() {
    const userFavoritesAmount = localStorage.getItem('favoritesAmount');
    if (userFavoritesAmount) {
        try {
            const favoritesAmount = JSON.parse(userFavoritesAmount);
            if (typeof favoritesAmount === 'number') {
                return favoritesAmount;
            }
        }
        catch (e) {
            console.log(Error);
        }
    }
    return undefined;
}
export function renderUserBlock(username, avatarUrl, favoritesAmount) {
    const userBlock = document.createElement('div');
    userBlock.classList.add('user-block');
    const avatarImage = document.createElement('img');
    avatarImage.src = avatarUrl;
    avatarImage.alt = `${username}'s avatar`;
    const usernameElement = document.createElement('p');
    usernameElement.classList.add('name');
    usernameElement.textContent = username;
    userBlock.appendChild(avatarImage);
    userBlock.appendChild(usernameElement);
    if (favoritesAmount !== undefined) {
        const favoritesAmountElement = document.createElement('span');
        favoritesAmountElement.textContent = `${favoritesAmount !== null && favoritesAmount !== void 0 ? favoritesAmount : '0'} favorites`;
        userBlock.appendChild(favoritesAmountElement);
    }
    document.body.appendChild(userBlock);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNFLG9CQUFvQjtBQUNwQixtQkFBbUI7QUFDbkIsa0JBQWtCO0FBQ2xCLHlCQUF5QjtBQUN6Qix3QkFBd0I7QUFDeEIsMkJBQTJCO0FBQzNCLElBQUk7QUFFTixNQUFNLFVBQVUsa0JBQWtCLENBQUMsUUFBa0I7SUFDbkQsTUFBTSxtQkFBbUIsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ2xFLElBQUksYUFBYSxHQUFlLEVBQUUsQ0FBQztJQUVuQyxJQUFJLG1CQUFtQixFQUFFO1FBQ3ZCLElBQUk7WUFDRixhQUFhLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1NBQ2pEO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3BCO0tBQ0Y7SUFFRCxNQUFNLGFBQWEsR0FBRyxhQUFhLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7SUFFL0UsSUFBSSxhQUFhLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDeEIsYUFBYSxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDeEM7U0FBTTtRQUNMLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsUUFBUSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7S0FDM0Y7SUFFRCxZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFFckUsTUFBTSxl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SUFDcEQsZUFBZSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdEMsZUFBZSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUM7SUFFdkMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNuQyxTQUFTLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBRXZDLElBQUksZUFBZSxLQUFLLFNBQVMsRUFBRTtRQUNqQyxNQUFNLHNCQUFzQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUQsc0JBQXNCLENBQUMsV0FBVyxHQUFHLEdBQUcsZUFBZSxhQUFmLGVBQWUsY0FBZixlQUFlLEdBQUksR0FBRyxZQUFZLENBQUM7UUFDM0UsU0FBUyxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0tBQy9DO0lBRUQsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDdkMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBVc2VyRGF0YSB7XG4gICAgdXNlcm5hbWU6IHN0cmluZztcbiAgICBhdmF0YXJVcmw6IHN0cmluZztcbiAgfVxuICBpbnRlcmZhY2UgUHJvcGVydHkge1xuICAgIGlkOiBudW1iZXI7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGltYWdlVXJsOiBzdHJpbmc7XG4gIH1cbiAgLy8gaW50ZXJmYWNlIFBsYWNlIHtcbiAgLy8gICBpbWFnZTogc3RyaW5nO1xuICAvLyAgIG5hbWU6IHN0cmluZztcbiAgLy8gICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAvLyAgIHJlbW90ZW5lc3M6IG51bWJlcjtcbiAgLy8gICBib29rZWREYXRlczogbnVtYmVyW107XG4gIC8vIH1cbiAgXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlRmF2b3JpdGVJdGVtKHByb3BlcnR5OiBQcm9wZXJ0eSk6IHZvaWQge1xuICBjb25zdCBmYXZvcml0ZUl0ZW1zU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Zhdm9yaXRlSXRlbXMnKTtcbiAgbGV0IGZhdm9yaXRlSXRlbXM6IFByb3BlcnR5W10gPSBbXTtcbiAgXG4gIGlmIChmYXZvcml0ZUl0ZW1zU3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZhdm9yaXRlSXRlbXMgPSBKU09OLnBhcnNlKGZhdm9yaXRlSXRlbXNTdHJpbmcpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKEVycm9yKTtcbiAgICB9XG4gIH1cbiAgXG4gIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBmYXZvcml0ZUl0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IHByb3BlcnR5LmlkKTtcbiAgXG4gIGlmIChleGlzdGluZ0luZGV4ICE9PSAtMSkge1xuICAgIGZhdm9yaXRlSXRlbXMuc3BsaWNlKGV4aXN0aW5nSW5kZXgsIDEpO1xuICB9IGVsc2Uge1xuICAgIGZhdm9yaXRlSXRlbXMucHVzaCh7IGlkOiBwcm9wZXJ0eS5pZCwgbmFtZTogcHJvcGVydHkubmFtZSwgaW1hZ2VVcmw6IHByb3BlcnR5LmltYWdlVXJsIH0pO1xuICB9XG4gIFxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmF2b3JpdGVJdGVtcycsIEpTT04uc3RyaW5naWZ5KGZhdm9yaXRlSXRlbXMpKTtcbiAgXG4gIGNvbnN0IGZhdm9yaXRlc0Ftb3VudCA9IGdldEZhdm9yaXRlc0Ftb3VudCgpO1xuICBjb25zdCB1c2VyQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1ibG9jaycpO1xuICBpZiAodXNlckJsb2NrKSB7XG4gICAgY29uc3QgZmF2b3JpdGVzQW1vdW50RWxlbWVudCA9IHVzZXJCbG9jay5xdWVyeVNlbGVjdG9yKCcuZmF2b3JpdGVzLWFtb3VudCcpO1xuICAgIGlmIChmYXZvcml0ZXNBbW91bnRFbGVtZW50KSB7XG4gICAgICBmYXZvcml0ZXNBbW91bnRFbGVtZW50LnRleHRDb250ZW50ID0gYCR7ZmF2b3JpdGVzQW1vdW50ID8/ICcwJ30gZmF2b3JpdGVzYDtcbiAgICB9XG4gIH1cbn1cbiAgXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmF2b3JpdGVzQW1vdW50KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGZhdm9yaXRlSXRlbXNTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmF2b3JpdGVJdGVtcycpO1xuICBcbiAgaWYgKGZhdm9yaXRlSXRlbXNTdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmF2b3JpdGVJdGVtczogUHJvcGVydHlbXSA9IEpTT04ucGFyc2UoZmF2b3JpdGVJdGVtc1N0cmluZyk7XG4gICAgICByZXR1cm4gZmF2b3JpdGVJdGVtcy5sZW5ndGg7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coRXJyb3IpO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiAgXG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRVc2VyRGF0YSgpOiBVc2VyRGF0YSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHVzZXJEYXRhU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTtcbiAgLy8gY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKHVzZXJEYXRhU3RyaW5nKTtcbiAgaWYodXNlckRhdGFTdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckRhdGE6IHVua25vd24gPSBKU09OLnBhcnNlKHVzZXJEYXRhU3RyaW5nKTtcbiAgICAgIGlmKHR5cGVvZiB1c2VyRGF0YSA9PT0gJ29iamVjdCcgJiYgdXNlckRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgYXZhdGFyVXJsIH0gPSB1c2VyRGF0YSBhcyB7IHVzZXJuYW1lOiB1bmtub3duLCBhdmF0YXJVcmw6IHVua25vd24gfTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0eXBlb2YgdXNlcm5hbWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBhdmF0YXJVcmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdXNlcm5hbWUsIGF2YXRhclVybCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coRXJyb3IpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIEdldEZhdm9yaXRlc0Ftb3V0KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHVzZXJGYXZvcml0ZXNBbW91bnQ9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmYXZvcml0ZXNBbW91bnQnKTtcblxuICBpZih1c2VyRmF2b3JpdGVzQW1vdW50KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZhdm9yaXRlc0Ftb3VudDogdW5rbm93biA9IEpTT04ucGFyc2UodXNlckZhdm9yaXRlc0Ftb3VudCk7XG4gICAgICAgIFxuICAgICAgaWYodHlwZW9mIGZhdm9yaXRlc0Ftb3VudCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGZhdm9yaXRlc0Ftb3VudDtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKEVycm9yKVxuICAgIH1cbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkXG59XG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyVXNlckJsb2NrKHVzZXJuYW1lOiBzdHJpbmcsIGF2YXRhclVybDogc3RyaW5nLCBmYXZvcml0ZXNBbW91bnQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgY29uc3QgdXNlckJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHVzZXJCbG9jay5jbGFzc0xpc3QuYWRkKCd1c2VyLWJsb2NrJyk7XG4gIFxuICBjb25zdCBhdmF0YXJJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBhdmF0YXJJbWFnZS5zcmMgPSBhdmF0YXJVcmw7XG4gIGF2YXRhckltYWdlLmFsdCA9IGAke3VzZXJuYW1lfSdzIGF2YXRhcmA7XG4gIFxuICBjb25zdCB1c2VybmFtZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHVzZXJuYW1lRWxlbWVudC5jbGFzc0xpc3QuYWRkKCduYW1lJyk7XG4gIHVzZXJuYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXJuYW1lO1xuICBcbiAgdXNlckJsb2NrLmFwcGVuZENoaWxkKGF2YXRhckltYWdlKTtcbiAgdXNlckJsb2NrLmFwcGVuZENoaWxkKHVzZXJuYW1lRWxlbWVudCk7XG5cbiAgaWYgKGZhdm9yaXRlc0Ftb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgZmF2b3JpdGVzQW1vdW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBmYXZvcml0ZXNBbW91bnRFbGVtZW50LnRleHRDb250ZW50ID0gYCR7ZmF2b3JpdGVzQW1vdW50ID8/ICcwJ30gZmF2b3JpdGVzYDtcbiAgICB1c2VyQmxvY2suYXBwZW5kQ2hpbGQoZmF2b3JpdGVzQW1vdW50RWxlbWVudCk7XG4gIH1cbiAgXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodXNlckJsb2NrKTtcbn1cbiJdfQ==